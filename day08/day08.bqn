lines â† â€¢file.Lines "./day08.txt"
grid â† >{ğ•© - '0'}Â¨lines
dim â† â‰ grid
outer â† 4 Ã— dim - 1

visible â† { e â† (âŸ¨ğ•¨ ,ğ•© âŸ©âŠ‘ grid)
          â‹„ z â† e â‰¤(ğ•¨ âŠ grid)
          â‹„ s â† e â‰¤ (ğ•© âŠ â‰ grid)
          â‹„ t â† âˆ¨Â´ğ•¨ â†‘s
          â‹„ b â† âˆ¨Â´(ğ•¨ +1)â†“s
          â‹„ l â† âˆ¨Â´ğ•© â†‘z
          â‹„ r â† âˆ¨Â´(ğ•© +1)â†“z
          â‹„ âˆ¨Â´Â¬âŸ¨t,b,l,râŸ©
          }âŒœËœ1 + â†•(dim-2)

inner â† +Â´âˆ¾Ëvisible

visidx â† ({Â¬(1=â‰ âˆ˜â¥Š)Â¨ğ•©}âŠ¸/)Ëœ(âˆ¾Ë{ (âŸ¨ğ•¨ ,ğ•© âŸ©âŠ‘ visible) âŠ‘ 0â€¿âŸ¨ğ•¨ + 1,ğ•© + 1âŸ©}âŒœËœâ†•(dim-2))

score â† { x â† 0âŠ‘ğ•©
        â‹„ y â† 1âŠ‘ğ•©
        â‹„ e â† âŸ¨x,yâŸ©âŠ‘ grid
        â‹„ z â† e â‰¤(x âŠ grid)
        â‹„ s â† e â‰¤ (y âŠ â‰ grid)
        â‹„ t â† (+Â´âˆ§`)Â¬ âŒ½ xâ†‘s
        â‹„ st â† ((â‰ xâ†‘s) =t) âŠ‘ (t+1)â€¿t
        â‹„ b â† (+Â´âˆ§`)Â¬ (x+1)â†“s
        â‹„ sb â† ((â‰ (x+1)â†“s)=b) âŠ‘ (b+1)â€¿b
        â‹„ l â† (+Â´âˆ§`) Â¬ âŒ½ yâ†‘z
        â‹„ sl â† ((â‰ yâ†‘z) =l) âŠ‘ (l+1)â€¿l
        â‹„ r â† (+Â´âˆ§`)Â¬ (y+1)â†“z
        â‹„ sr â† ((â‰ (y+1)â†“z)=r) âŠ‘ (r+1)â€¿r
        â‹„ Ã—Â´âŸ¨st,sb,sl,srâŸ©
        }Â¨visidx

â€¢Show "Puzzle 1: "â€¿(inner + outer)
â€¢Show "Puzzle 2: "â€¿(âŒˆÂ´score)
